{"ast":null,"code":"var _jsxFileName = \"/Users/asiataylor/Development/env1/django-drf-react/project/frontend/src/components/views/Topic.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport '../static/Home.css';\nimport Navbar from './Navbar';\nimport '../static/Forum.css';\nimport { FaTimes, FaPlus } from 'react-icons/fa';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport { headers } from '../forms/global.js';\n\nclass Topic extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      posts: [],\n      topic: \"\",\n      post: \"\"\n    };\n\n    this.newPost = e => {\n      e.preventDefault();\n      let query = this.state.query;\n      let body = JSON.stringify({\n        query\n      });\n      headers[\"Authorization\"] = \"Token \".concat(this.props.token);\n      fetch(\"/api/post/\".concat(this.props.match.params.topic_id, \"/\"), {\n        headers,\n        body,\n        method: \"POST\"\n      }).then(res => {\n        return res.json();\n      }).then(json => console.log(json)).catch(err => {\n        console.log(\"fetch error\" + err);\n      });\n    };\n  }\n\n  componentWillMount() {\n    fetch(\"/api/post/\".concat(this.props.match.params.topic_id, \"/\")).then(response => {\n      return response.json();\n    }).then(responseData => {\n      return responseData;\n    }).then(json => {\n      this.setState({\n        posts: json.data\n      });\n      this.setState({\n        topic: json.topic\n      });\n    }).catch(err => {\n      console.log(\"fetch error\" + err);\n    });\n  }\n\n  render() {\n    console.log(this.state.post);\n    return React.createElement(\"div\", {\n      id: \"topic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"flex-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"forum-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"post-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"forum-h1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, this.state.topic), React.createElement(\"div\", {\n      className: \"post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(TextareaAutosize, {\n      id: \"new-post\",\n      onChange: e => this.setState({\n        post: e.target.value\n      }),\n      maxlength: \"500\",\n      minRows: 1,\n      maxRows: 6,\n      placeholder: \"Create a post...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: \"\",\n      className: \"post-submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Post\"), \" \", React.createElement(\"button\", {\n      className: \"post-submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Add Tag\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, this.state.posts.map((el, idx) => {\n      return React.createElement(\"div\", {\n        className: \"post\",\n        key: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(FaTimes, {\n        className: this.state.hidden ? 'hidden' : 'deleteSkill',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"desc res-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, el.text));\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.auth.user\n  };\n};\n\nexport default connect(mapStateToProps)(Topic);","map":{"version":3,"sources":["/Users/asiataylor/Development/env1/django-drf-react/project/frontend/src/components/views/Topic.js"],"names":["React","Component","connect","Navbar","FaTimes","FaPlus","TextareaAutosize","headers","Topic","state","posts","topic","post","newPost","e","preventDefault","query","body","JSON","stringify","props","token","fetch","match","params","topic_id","method","then","res","json","console","log","catch","err","componentWillMount","response","responseData","setState","data","render","target","value","map","el","idx","hidden","text","mapStateToProps","user","auth"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAO,oBAAP;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,qBAAP;AACA,SAAQC,OAAR,EAAgBC,MAAhB,QAA6B,gBAA7B;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AACA,SAAQC,OAAR,QAAsB,oBAAtB;;AAGA,MAAMC,KAAN,SAAoBP,SAApB,CAA6B;AAAA;AAAA;AAAA,SAEzBQ,KAFyB,GAEjB;AACNC,MAAAA,KAAK,EAAC,EADA;AAENC,MAAAA,KAAK,EAAC,EAFA;AAGNC,MAAAA,IAAI,EAAC;AAHC,KAFiB;;AAAA,SAQzBC,OARyB,GAQdC,CAAD,IAAM;AACdA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,KAAK,GAAG,KAAKP,KAAL,CAAWO,KAAvB;AACA,UAAIC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAACH,QAAAA;AAAD,OAAf,CAAX;AACAT,MAAAA,OAAO,CAAC,eAAD,CAAP,mBAAoC,KAAKa,KAAL,CAAWC,KAA/C;AACAC,MAAAA,KAAK,qBAAc,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,QAAtC,QAAmD;AAAClB,QAAAA,OAAD;AAASU,QAAAA,IAAT;AAAcS,QAAAA,MAAM,EAAC;AAArB,OAAnD,CAAL,CAAsFC,IAAtF,CAA2FC,GAAG,IAAI;AAAC,eAAOA,GAAG,CAACC,IAAJ,EAAP;AAAmB,OAAtH,EACGF,IADH,CACQE,IAAI,IAAIC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CADhB,EAEGG,KAFH,CAESC,GAAG,IAAI;AAACH,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBE,GAA5B;AAAiC,OAFlD;AAGD,KAhBwB;AAAA;;AAkBzBC,EAAAA,kBAAkB,GAAE;AAClBZ,IAAAA,KAAK,qBAAc,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,QAAtC,OAAL,CACGE,IADH,CACQQ,QAAQ,IAAI;AAAE,aAAOA,QAAQ,CAACN,IAAT,EAAP;AAAwB,KAD9C,EACgDF,IADhD,CACqDS,YAAY,IAAI;AAAC,aAAOA,YAAP;AAAqB,KAD3F,EAEGT,IAFH,CAESE,IAAI,IAAI;AAAC,WAAKQ,QAAL,CAAc;AAAC3B,QAAAA,KAAK,EAAEmB,IAAI,CAACS;AAAb,OAAd;AAAmC,WAAKD,QAAL,CAAc;AAAC1B,QAAAA,KAAK,EAACkB,IAAI,CAAClB;AAAZ,OAAd;AAAkC,KAFvF,EAGGqB,KAHH,CAGSC,GAAG,IAAI;AAACH,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBE,GAA5B;AACb,KAJJ;AAKD;;AAGHM,EAAAA,MAAM,GAAE;AACNT,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKtB,KAAL,CAAWG,IAAvB;AACA,WACA;AAAK,MAAA,EAAE,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAIE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0B,KAAKH,KAAL,CAAWE,KAArC,CADF,EAEE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,gBAAD;AAAkB,MAAA,EAAE,EAAC,UAArB;AAAgC,MAAA,QAAQ,EAAEG,CAAC,IAAI,KAAKuB,QAAL,CAAc;AAACzB,QAAAA,IAAI,EAAEE,CAAC,CAAC0B,MAAF,CAASC;AAAhB,OAAd,CAA/C;AAAsF,MAAA,SAAS,EAAC,KAAhG;AAAsG,MAAA,OAAO,EAAE,CAA/G;AAAkH,MAAA,OAAO,EAAE,CAA3H;AAA8H,MAAA,WAAW,EAAC,kBAA1I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAQ,MAAA,OAAO,EAAC,EAAhB;AAAmB,MAAA,SAAS,EAAC,aAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,OAE2D;AAAQ,MAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAF3D,CAFF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKhC,KAAL,CAAWC,KAAX,CAAiBgC,GAAjB,CAAqB,CAACC,EAAD,EAAIC,GAAJ,KAAY;AAC5B,aAAO;AAAK,QAAA,SAAS,EAAC,MAAf;AAAsB,QAAA,GAAG,EAAEA,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACF,oBAAC,OAAD;AAAS,QAAA,SAAS,EAAE,KAAKnC,KAAL,CAAWoC,MAAX,GAAoB,QAApB,GAA6B,aAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADE,EAEF;AAAG,QAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8BF,EAAE,CAACG,IAAjC,CAFE,CAAP;AAIH,KALF,CADH,CANF,CADJ,CADF,CAJF,CADA;AA2BD;;AAxD0B;;AA2D7B,MAAMC,eAAe,GAAGtC,KAAK,IAAI;AAC7B,SAAO;AACLuC,IAAAA,IAAI,EAAEvC,KAAK,CAACwC,IAAN,CAAWD;AADZ,GAAP;AAGH,CAJD;;AAMA,eAAe9C,OAAO,CAAC6C,eAAD,CAAP,CAAyBvC,KAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from \"react-redux\";\nimport '../static/Home.css';\nimport Navbar from './Navbar';\nimport '../static/Forum.css';\nimport {FaTimes,FaPlus} from 'react-icons/fa';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport {headers} from '../forms/global.js'\n\n\nclass Topic extends Component{\n\n    state = {\n      posts:[],\n      topic:\"\",\n      post:\"\",\n    }\n\n    newPost = (e) =>{\n      e.preventDefault();\n      let query = this.state.query\n      let body = JSON.stringify({query});\n      headers[\"Authorization\"] = `Token ${this.props.token}`;\n      fetch(`/api/post/${this.props.match.params.topic_id}/`, {headers,body,method:\"POST\"}).then(res => {return res.json();})\n        .then(json => console.log(json))\n        .catch(err => {console.log(\"fetch error\" + err)})\n    }\n\n    componentWillMount(){\n      fetch(`/api/post/${this.props.match.params.topic_id}/`)\n        .then(response => { return response.json();}).then(responseData => {return responseData;})\n        .then (json => {this.setState({posts: json.data}); this.setState({topic:json.topic})})\n        .catch(err => {console.log(\"fetch error\" + err);\n         });\n    }\n\n\n  render(){\n    console.log(this.state.post)\n    return(\n    <div id=\"topic\">\n      <header>\n        <Navbar/>\n      </header>\n      <div className=\"flex-box\">\n        <div className=\"forum-body\">\n            <div id=\"post-list\">\n              <h1 className=\"forum-h1\">{this.state.topic}</h1>\n              <div className=\"post\">\n                <TextareaAutosize id=\"new-post\" onChange={e => this.setState({post: e.target.value})} maxlength=\"500\" minRows={1} maxRows={6} placeholder=\"Create a post...\"/>\n                <button onClick=\"\" className=\"post-submit\">Post</button> <button className=\"post-submit\">Add Tag</button>\n              </div>\n              <div>\n                {this.state.posts.map((el,idx) => {\n                      return <div className=\"post\" key={idx}>\n                           <FaTimes className={this.state.hidden ? 'hidden':'deleteSkill'} />\n                           <p className=\"desc res-item\">{el.text}</p>\n                      </div>\n                  })}\n              </div>\n            </div>\n\n        </div>\n      </div>\n    </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n    return {\n      user: state.auth.user,\n    }\n}\n\nexport default connect(mapStateToProps)(Topic);\n"]},"metadata":{},"sourceType":"module"}